# План автоматизации

### Сценарии для автоматизации
##### Тесты подходят как оплате по карте так и для покупки в кредит
#### 1. Оплата по карте: успешная операция

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты: 4444 4444 4444 4441

Ввести дату: 11/25

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Запрос в банк успешен. Появляется сообщение с текстом "Операция одобрена Банком."
- В БД запрос имеет статус `APPROVED`
---
#### 2. Оплата по карте: неуспешная операция по невалидной карте

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:
Ввести номер карты: 4444 4444 4444 4442

Ввести дату: 11/25

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Сделать запрос в БД, чтобы найти запись об операции

Ожидаемый результат:

- Запрос в банк неуспешен. Появляется сообщение с текстом "Ошибка! Банк отказал в проведении операции."
- В БД запрос имеет статус `DECLINED`
---
#### 3. Оплата в кредит: успешная операция

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:

Ввести номер карты: 4444 4444 4444 4441

Ввести дату: 11/25

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Запрос в банк успешен. Появляется сообщение с текстом "Операция одобрена Банком."
- В БД запрос имеет статус `APPROVED`
---
#### 4. Оплата в кредит: неуспешная операция по невалидной карте

Исходное состояние: SUT запущен, выбрана страница "Купить в кредит"

Шаги:

Ввести номер карты: 4444 4444 4444 4442

Ввести дату: 11/25

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Сделать запрос в БД, чтобы найти запись об операции

Ожидаемый результат:

- Запрос в банк неуспешен. Появляется сообщение с текстом "Ошибка! Банк отказал в проведении операции."
- В БД запрос имеет статус `DECLINED`
---
#### 5. Проверка поля "Номер карты"
**5.1) Неполный номер карты**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты: 4444 4444 4444

Ввести дату: 11/25

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Номер карты** появилось валидационное сообщение "Неверный формат"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**5.2) Пустой номер карты**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты: 

Ввести дату: 11/25

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Номер карты** появилось валидационное сообщение "Поле обязательно для заполнения"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**5.3) Отправка номера карты не из наабора**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты: 1234 1234 1234 1234

Ввести дату: 11/25

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Номер карты** появилось валидационное сообщение "Неверный формат"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**5.4) Ввод текста и спецсимволов** 

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты: № карты

Ввести дату: 11/25

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Номер карты** появилось валидационное сообщение "Поле содержит недопустимые символы"
- Запрос в банк не отправлен
- В БД новых записей не появилось
---
#### 6. Проверка поля "Месяц" 

**6.1) С пустым полем** 
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты: 4444 4444 4444 4441

Ввести дату: 08/23

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Месяц** появилось валидационное сообщение "Поле обязательно для заполнения"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**6.2) Несуществующий месяц**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты: 4444 4444 4444 4441

Ввести дату: 13/23

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Месяц** появилось валидационное сообщение "Неверно указан срок действия карты"
- Запрос в банк не отправлен
- В БД новых записей не появилось


**6.3) Ввод месяца кириллицей**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты: 4444 4444 4444 4441

Ввести дату: сентябрь/23

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Месяц** появилось валидационное сообщение "Поле содержит недопустимые символы"
- Запрос в банк не отправлен
- В БД новых записей не появилось


---
#### 7. Проверка поля "Год" 

7.1) Пустое поле

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты: 4444 4444 4444 4441

Ввести дату:11/

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Год** появилось валидационное сообщение "Поле обязательно для заполнения"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**7.2) Прошедший год** 

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты: 4444 4444 4444 4441

Ввести дату:11/20

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Год** появилось валидационное сообщение "Истёк срок действия карты"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**7.3) Ввод данных кириллицей**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты: 4444 4444 4444 4441

Ввести дату:11/двадцать пять

Ввести владельца карты: Ivan Petrov

Ввести cvc: 123

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Номер карты** появилось валидационное сообщение "Поле содержит недопустимые символы"
- Запрос в банк не отправлен
- В БД новых записей не появилось

---
#### 8. Проверка поля cvc

**8.1) Неполный cvc код** 

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты = 4444 4444 4444 4441

Ввести дата = 12/23

Ввести владелеца карты = Ivan Petrov

Ввести cvc = 56

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **CVC/CVV** появилось валидационное сообщение "Неверный формат"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**8.2) Оставить пустое поле**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты = 4444 4444 4444 4441

Ввести дата = 12/23

Ввести владелеца карты = Ivan Petrov

Ввести cvc = 

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **CVC/CVV** появилось валидационное сообщение "Неверный формат"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**8.3) Ввод текста в поле cvc**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты = 4444 4444 4444 4441

Ввести дата = 12/23

Ввести владелеца карты = Ivan Petrov

Ввести cvc = код

Нажать кнопку "Продолжить"
Ожидаемый результат:

- Под полем **CVC/CVV** появилось валидационное сообщение "Поле содержит недопустимые символы"
- Запрос в банк не отправлен
- В БД новых записей не появилось
---
#### 9. Проверка поля Владелец
**9.1) Пустое поле имя**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"
Шаги:

Ввести номер карты = 4444 4444 4444 4441

Ввести дату= 12/23

Ввести владелеца карты= ""

Ввести cvc = 567

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Владелец** появилось валидационное сообщение "Поле обязательно для заполнения"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**9.2) Неполностью заполнено поле**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты = 4444 4444 4444 4441

Ввести дату= 12/23

Ввести владелеца карты= "Ivan"

Ввести cvc = 567

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Владелец** появилось валидационное сообщение "Неверный формат"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**9.3) Невалидные данные с нижним регистром**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты = 4444 4444 4444 4441

Ввести дату= 12/23

Ввести владелеца карты= "ivan petrov"

Ввести cvc = 567

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Владелец** появилось валидационное сообщение "Неверный формат"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**9.4) Невалидные данные с верхним регистром**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты = 4444 4444 4444 4441

Ввести дату= 12/23

Ввести владелеца карты= "IVAN PETROV"

Ввести cvc = 567

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Владелец** появилось валидационное сообщение "Неверный формат"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**9.5) Избыточные данные ФИО**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты = 4444 4444 4444 4441

Ввести дату= 12/23

Ввести владелеца карты= "Ivan Petrov Olekseevich"

Ввести cvc = 567

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Владелец** появилось валидационное сообщение "Неверный формат"
- Запрос в банк не отправлен
- В БД новых записей не появилось

**9.6) Ввод кириллицей** 

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты = 4444 4444 4444 4441

Ввести дату= 12/23

Ввести владелеца карты= "Иван Петров"

Ввести cvc = 567

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Владелец** появилось валидационное сообщение "Поле содержит недопустимые символы"
- Запрос в банк не отправлен
- В БД новых записей не появилось**

**9.7) Ввод цифр**

Исходное состояние: SUT запущен, выбрана страница "Оплата по карте"

Шаги:

Ввести номер карты = 4444 4444 4444 4441

Ввести дату= 12/23

Ввести владелеца карты= "12345"

Ввести cvc = 567

Нажать кнопку "Продолжить"

Ожидаемый результат:

- Под полем **Владелец** появилось валидационное сообщение "Поле содержит недопустимые символы"
- Запрос в банк не отправлен
- В БД новых записей не появилось
---
### Перечень используемых инструментов

- Java 11
- junit-jupiter: 5.9.0
- selenide: 5.3.1
- rest-assured: 4.1.2
- Allure
- Хранилище кода - github.com

### Перечень и описание возможных рисков при автоматизации
- Возникновение проблем с разворачиванием инфраструктуры: запуском контейнеров и SUT
- Возникновение проблем с одновременной поддержкой MySql / Postgres
- Отклонение от составленного плана тестирования
- Написание диплома - не единственная деятельность, передо мной стоит ряд других задач из разных сфер жизни

### Оценка временных затрат
Без рисков: 50 часов
С рисками: 58 часов

### План сдачи работ
Завершение написания тестов: 23.10.2023
Предоставление отчетности: 25.10.2023
